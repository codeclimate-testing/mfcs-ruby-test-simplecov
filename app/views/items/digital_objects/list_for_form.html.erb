<h2 class="mb-2"> Objects for <%= @form.display_title %> </h2>

<% unless @items.present? %>
  This form currently has no items or objects associated with it. 
<% else %>
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <tr class="d-flex">
          <th class="col-1"> # </th>
          <% @items.first.data.each do |key, value| %>
            <% unless key == 'files' %>
              <th class="col"> <%= key.capitalize %></th>
            <% end %>
          <% end %>
          <th class="col-1 text-center"> Edit </th>
          <th class="col-1 text-center"> Delete </th>
        </tr>
      </thead>

      <tbody>
        <% @items.each do |item| %>
          <tr class="d-flex">
            <th class="col-1"> <%= link_to item.id, items_show_digital_object_path(item) %> </th>
            <% item.data.each do |key, value| %>
              <% unless key == 'files' %>
                <td class="col"> <%= value %> </td>
              <% end %>
            <% end %>
            <td class="col-1 text-center"><%= link_to raw('<span class="fas fa-edit"></span>'), items_edit_digital_objects_path(item) %></td>
            <td class="col-1 text-center"><%= link_to raw('<span class="fas fa-trash"></span>'), items_destroy_digital_object_path(item), method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>